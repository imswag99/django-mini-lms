{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{% block title %} Default title {% endblock %}</title>
        {% tailwind_css %}
    </head>
    <body class="font-main">
        <nav
            class="bg-surface border-b border-border fixed w-full z-20 top-0 start-0 shadow-sm"
        >
            <div
                class="flex flex-wrap items-center justify-between max-w-7xl mx-auto p-4"
            >
                <!-- Logo / Title -->
                <a
                    href="{% url 'home' %}"
                    class="flex items-center space-x-3 rtl:space-x-reverse"
                >
                    <h2
                        class="flex items-center gap-1 self-center text-3xl font-logo font-bold whitespace-nowrap text-text-primary"
                    >
                        e-ducate
                        <div class="w-3 h-3 rounded-full bg-accent"></div>
                    </h2>
                </a>

                <!-- Hamburger Menu Button (Mobile only) -->
                <button
                    id="menu-toggle"
                    type="button"
                    class="inline-flex items-center p-2 w-10 h-10 justify-center text-text-secondary rounded-lg md:hidden hover:bg-border focus:outline-none focus:ring-2 focus:ring-primary"
                    aria-controls="navbar-sticky"
                    aria-expanded="false"
                >
                    <!-- Hamburger Icon -->
                    <svg
                        id="menu-open-icon"
                        class="w-6 h-6"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 17 14"
                    >
                        <path
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M1 1h15M1 7h15M1 13h15"
                        />
                    </svg>

                    <!-- Close Icon -->
                    <svg
                        id="menu-close-icon"
                        class="hidden w-6 h-6"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M6 18L18 6M6 6l12 12"
                        />
                    </svg>
                </button>

                <!-- Right-side Buttons (Desktop only) -->
                <div class="hidden md:flex md:order-2 gap-2 items-center">
                    {% if user.is_authenticated %}
                    <div class="flex gap-2 items-center">
                        <div class="flex justify-center items-center gap-1">
                            <div class="w-3 h-3 rounded-full bg-accent"></div>
                            <h2 class="text-text-secondary text-sm">{{user.username}}</h2>
                        </div>
                        <form method="post" action="{% url 'logout' %}">
                            {% csrf_token %}
                            <button
                                class="bg-error text-white hover:opacity-90 focus:ring-2 focus:ring-error focus:outline-none font-medium rounded-lg text-sm px-4 py-2 transition-colors duration-200 cursor-pointer"
                            >
                                Logout
                            </button>
                        </form>
                    </div>
                    {% else %}
                    <a href="{% url 'login' %}">
                        <button
                            type="button"
                            class="bg-primary text-white hover:opacity-90 focus:ring-2 focus:ring-primary focus:outline-none font-medium rounded-lg text-sm px-4 py-2 transition-colors duration-200 cursor-pointer"
                        >
                            Sign In
                        </button>
                    </a>
                    <a href="{% url 'register' %}">
                        <button
                            type="button"
                            class="bg-accent text-white hover:opacity-90 focus:ring-2 focus:ring-accent focus:outline-none font-medium rounded-lg text-sm px-4 py-2 transition-colors duration-200 cursor-pointer"
                        >
                            Get Started
                        </button>
                    </a>
                    {% endif %}
                </div>

                <!-- Navigation Links (Hamburger Menu + Desktop Links) -->
                <div
                    class="hidden md:flex flex-col md:flex-row items-center justify-between w-full md:w-auto md:order-1 transition-all duration-300 ease-in-out"
                    id="navbar-sticky"
                >
                    <ul
                        class="flex flex-col md:flex-row md:items-center font-medium space-x-8 uppercase rounded-lg md:bg-transparent w-full md:w-auto space-y-4 md:space-y-0 md:space-x-6 text-center md:text-left"
                    >
                        <li>
                            <a
                                href="{% url 'home' %}"
                                class="py-2 px-3 rounded-sm text-text-secondary hover:text-primary font-semibold transition-colors duration-200"
                                aria-current="page"
                            >
                                Home
                            </a>
                        </li>
                        <li>
                            <a
                                href="{% url 'course_list' %}"
                                class="py-2 px-3 rounded-sm text-text-secondary hover:text-primary font-semibold transition-colors duration-200"
                            >
                                Courses
                            </a>
                        </li>
                        <li>
                            <a
                                href="{% url 'about' %}"
                                class="py-2 px-3 rounded-sm text-text-secondary hover:text-primary font-semibold transition-colors duration-200"
                            >
                                About Us
                            </a>
                        </li>

                        <!-- Auth Buttons (Mobile Only) -->
                        <li
                            class="block md:hidden border-t border-border pt-4 mt-2"
                        >
                            {% if user.is_authenticated %}
                            <div class="flex flex-col gap-3 items-center">
                                <div class="flex justify-center items-center gap-1">
                                    <div class="w-3 h-3 rounded-full bg-accent"></div>
                                    <h2 class="text-text-secondary text-sm">{{user.username}}</h2>
                                </div>
                                <form method="post" action="{% url 'logout' %}">
                                    {% csrf_token %}
                                    <button
                                        class="bg-error text-white hover:opacity-90 focus:ring-2 focus:ring-error focus:outline-none font-medium rounded-lg text-sm px-4 py-2 transition-colors duration-200 cursor-pointer w-32"
                                    >
                                        Logout
                                    </button>
                                </form>
                            </div>
                            {% else %}
                            <div class="flex flex-col gap-3 items-center">
                                <a href="{% url 'login' %}" class="w-32">
                                    <button
                                        class="bg-primary text-white hover:opacity-90 focus:ring-2 focus:ring-primary focus:outline-none font-medium rounded-lg text-sm px-4 py-2 transition-colors duration-200 cursor-pointer w-full"
                                    >
                                        Sign In
                                    </button>
                                </a>
                                <a href="{% url 'register' %}" class="w-32">
                                    <button
                                        class="bg-accent text-white hover:opacity-90 focus:ring-2 focus:ring-accent focus:outline-none font-medium rounded-lg text-sm px-4 py-2 transition-colors duration-200 cursor-pointer w-full"
                                    >
                                        Get Started
                                    </button>
                                </a>
                            </div>
                            {% endif %}
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="pt-25 pb-10 bg-bg">
            {% block content %} Layout {% endblock %}
        </div>

        <footer class="w-full bg-surface border-t border-border mt-10">
            <div class="mx-auto max-w-7xl p-4 py-6 lg:py-8">
                <div class="md:flex md:justify-between">
                    <!-- Logo -->
                    <div class="mb-6 md:mb-0">
                        <a href="{% url 'home' %}" class="flex items-center">
                            <h2
                                class="flex items-center gap-1 self-center text-4xl font-logo font-bold whitespace-nowrap text-text-primary"
                            >
                                e-ducate
                                <div
                                    class="w-3 h-3 rounded-full bg-accent"
                                ></div>
                            </h2>
                        </a>
                    </div>

                    <!-- Links -->
                    <div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3">
                        <div>
                            <h2
                                class="mb-6 text-sm font-semibold text-primary uppercase"
                            >
                                Resources
                            </h2>
                            <ul class="text-text-secondary font-medium">
                                <li class="mb-4">
                                    <a
                                        href="https://tailwindcss.com/"
                                        class="hover:text-primary transition-colors duration-200"
                                    >
                                        Tailwind CSS
                                    </a>
                                </li>
                                <li>
                                    <a
                                        href="https://www.djangoproject.com/"
                                        class="hover:text-primary transition-colors duration-200"
                                    >
                                        Django
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div>
                            <h2
                                class="mb-6 text-sm font-semibold text-primary uppercase"
                            >
                                Follow Us
                            </h2>
                            <ul class="text-text-secondary font-medium">
                                <li class="mb-4">
                                    <a
                                        href="https://github.com/yourusername"
                                        class="hover:text-primary transition-colors duration-200"
                                    >
                                        GitHub
                                    </a>
                                </li>
                                <li>
                                    <a
                                        href="https://discord.gg/yourserver"
                                        class="hover:text-primary transition-colors duration-200"
                                    >
                                        Discord
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div>
                            <h2
                                class="mb-6 text-sm font-semibold text-primary uppercase"
                            >
                                Legal
                            </h2>
                            <ul class="text-text-secondary font-medium">
                                <li class="mb-4">
                                    <a
                                        href="#"
                                        class="hover:text-primary transition-colors duration-200"
                                    >
                                        Privacy Policy
                                    </a>
                                </li>
                                <li>
                                    <a
                                        href="#"
                                        class="hover:text-primary transition-colors duration-200"
                                    >
                                        Terms &amp; Conditions
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <hr class="my-6 border-border sm:mx-auto lg:my-8" />

                <!-- Footer bottom -->
                <div class="sm:flex sm:items-center sm:justify-between">
                    <span class="text-sm text-text-secondary sm:text-center">
                        © 2025
                        <a
                            href="{% url 'home' %}"
                            class="hover:text-primary transition-colors duration-200"
                            >e-ducate™</a
                        >. All Rights Reserved.
                    </span>

                    <!-- Social icons -->
                    <div class="flex mt-4 sm:justify-center sm:mt-0">
                        <!-- GitHub -->
                        <a
                            href="https://github.com/yourusername"
                            class="text-text-secondary hover:text-primary ms-5 transition-colors duration-200"
                        >
                            <svg
                                class="w-5 h-5"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    d="M12 .5C5.648.5.5 5.648.5 12c0 5.086 3.292 9.397 7.865 10.92.575.105.785-.25.785-.555 0-.275-.01-1.005-.015-1.975-3.2.695-3.875-1.542-3.875-1.542-.523-1.33-1.277-1.685-1.277-1.685-1.042-.713.08-.698.08-.698 1.15.08 1.755 1.18 1.755 1.18 1.025 1.755 2.69 1.25 3.345.955.105-.75.4-1.25.73-1.535-2.55-.29-5.23-1.275-5.23-5.67 0-1.25.445-2.275 1.175-3.075-.12-.285-.51-1.435.11-2.985 0 0 .96-.31 3.15 1.175a10.96 10.96 0 0 1 2.87-.385c.975.005 1.96.13 2.87.385 2.19-1.485 3.145-1.175 3.145-1.175.625 1.55.24 2.7.12 2.985.735.8 1.175 1.825 1.175 3.075 0 4.41-2.69 5.375-5.255 5.66.41.355.78 1.055.78 2.125 0 1.54-.015 2.785-.015 3.165 0 .31.21.67.79.55C20.71 21.395 24 17.08 24 12 24 5.648 18.852.5 12 .5Z"
                                />
                            </svg>
                            <span class="sr-only">GitHub</span>
                        </a>

                        <!-- Discord -->
                        <a
                            href="https://discord.gg/yourserver"
                            class="text-text-secondary hover:text-primary ms-5 transition-colors duration-200"
                        >
                            <svg
                                class="w-5 h-5"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 21 16"
                            >
                                <path
                                    d="M16.942 1.556a16.3 16.3 0 0 0-4.126-1.3 12.04 12.04 0 0 0-.529 1.1 15.175 15.175 0 0 0-4.573 0 11.585 11.585 0 0 0-.535-1.1 16.274 16.274 0 0 0-4.129 1.3A17.392 17.392 0 0 0 .182 13.218a15.785 15.785 0 0 0 4.963 2.521c.41-.564.773-1.16 1.084-1.785a10.63 10.63 0 0 1-1.706-.83c.143-.106.283-.217.418-.33a11.664 11.664 0 0 0 10.118 0c.137.113.277.224.418.33-.544.328-1.116.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595 17.286 17.286 0 0 0-2.973-11.59ZM6.678 10.813a1.941 1.941 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.919 1.919 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Zm6.644 0a1.94 1.94 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.918 1.918 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Z"
                                />
                            </svg>
                            <span class="sr-only">Discord</span>
                        </a>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Toggle Script -->
        <script>
            const toggleButton = document.getElementById("menu-toggle");
            const menu = document.getElementById("navbar-sticky");
            const openIcon = document.getElementById("menu-open-icon");
            const closeIcon = document.getElementById("menu-close-icon");

            toggleButton.addEventListener("click", () => {
                menu.classList.toggle("hidden");
                openIcon.classList.toggle("hidden");
                closeIcon.classList.toggle("hidden");
            });
        </script>
    </body>
</html>
